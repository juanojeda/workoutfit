<div class="md-fab-toolbar">
    <div layout="row" layout-padding>
        <div class="md-fab-toolbar-wrapper" flex="85">
            <h2 class="md-fab-title">Create a new workout</h2>
        </div>
        <div flex="15">
            <md-button aria-label="cancel" class="md-icon-button" ng-click="createWorkout.cancelCreate()">
                <md-icon md-svg-icon="content:ic_clear_24px"></md-icon>
            </md-button>
        </div>
    </div>
</div>

<md-content layout-padding>
    <md-input-container>
        <label>Workout Name</label>
        <input type="text" name="workoutName" ng-model="createWorkout.workout.name" />
    </md-input-container>

    <h3 class="md-title">Add an Exercise</h3>

    <div ng-init="exercise = createWorkout.tempExercise">
        <md-input-container>
            <label for="exercise_{{$index}}">Exercise</label>
            <md-select name="exercise_{{$index}}" ng-model="exercise.exerciseId">
                <md-option ng-repeat="exercise in createWorkout.exerciseList | orderBy: 'name' track by exercise._id" value="{{exercise._id}}">
                    {{exercise.name}}
                </md-option>
            </md-select>
        </md-input-container>
        <div layout="row" layout-wrap>
            <md-input-container flex="45">
                <label for="exercise_{{$index}}_sets">Sets</label>
                <input type="tel" name="exercise_{{$index}}_sets" ng-model="exercise.sets" min="0" step="1" />
            </md-input-container>
            <md-input-container flex="45" flex-offset="10">
                <label for="exercise_{{$index}}_repsMin">Min weight</label>
                <input type="tel" name="exercise_{{$index}}_defaultWeight" ng-model="exercise.repsMin" min="0" step="1" />
            </md-input-container>
            <md-input-container flex="45">
                <label for="exercise_{{$index}}_repsMin">Reps (min)</label>
                <input type="tel" name="exercise_{{$index}}_repsMin" ng-model="exercise.repsMin" min="0" step="1" />
            </md-input-container>
            <md-input-container flex="45" flex-offset="10">
                <label for="exercise_{{$index}}_repsMax">Reps (max)</label>
                <input type="tel" name="exercise_{{$index}}_repsMax" ng-model="exercise.repsMax" min="0" step="1" />
            </md-input-container>
            <md-button flex="100" class="md-secondary" ng-click="addExercise()">Add another exercise</md-button>
        </div>
    </div>

    <md-list ng-if="createWorkout.workout.exercises.length">
        <h3 class="md-title">Exercises</h3>
        <md-list-item ng-repeat="exercise in createWorkout.workout.exercises">
            {{exercise.name}}
        </md-list-item>
    </md-list>

    <div layout="row">
        <md-button flex="100" ng-disabled="!createWorkout.canSubmit()" class="md-primary md-raised">Save workout</md-button>
    </div>

</md-content>
